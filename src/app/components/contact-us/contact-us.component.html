<section class="contact my-5 m-auto shadow bg-white">
  <h5 class="title">Contact us</h5>
  <div class="container">
    <form (ngSubmit)="onSubmit()">
      <div class="form-group contact-form row">
        <div class="col-md-4">
          <mat-form-field appearance="outline">
            <mat-label class="label">Name</mat-label>
            <input
              matInput
              required
              [formControl]="nameFormControl"
              class="input-text"
              placeholder="Name"
              name="name"
            />
            <mat-error *ngIf="nameFormControl.get('name')?.invalid">
              Name is required and must be at least 3 characters
            </mat-error>
          </mat-form-field>
        </div>
        <div class="col-md-4">
          <mat-form-field appearance="outline">
            <mat-label class="label">Enter your email</mat-label>
            <input
              matInput
              placeholder="pat@example.com"
              [formControl]="email"
              (blur)="updateErrorMessage()"
              required
              class="input-text"
              name="email"
            />
            <mat-error *ngIf="email.get('email')?.invalid">
              Name is required and must be at least 3 characters
            </mat-error>
          </mat-form-field>
        </div>
        <div class="col-md-4">
          <mat-form-field appearance="outline">
            <mat-label class="label">Phone Number</mat-label>
            <input
              matInput
              [formControl]="phoneFormControl"
              placeholder="Enter your phone number"
              type="tel"
              maxlength="11"
              class="input-text"
              name="phone"
            />
            <mat-error *ngIf="phoneFormControl.hasError('required')">
              Phone number is required
            </mat-error>
            <mat-error *ngIf="phoneFormControl.hasError('pattern')">
              Invalid phone number
            </mat-error>
          </mat-form-field>
        </div>
      </div>
      <div>
        <mat-form-field appearance="outline">
          <mat-label>Message</mat-label>
          <textarea
            matInput
            placeholder="Write your message"
            style="height: 190px"
            name="message"
            [formControl]="messageFormControl"
          ></textarea>
          <mat-error *ngIf="messageFormControl.hasError('required')">
            Message is required
          </mat-error>
        </mat-form-field>
      </div>
      <div class="text-center">
        <button
          type="submit"
          class="btn"
          [disabled]="
            !email.valid ||
            !phoneFormControl.valid ||
            !nameFormControl.valid ||
            !messageFormControl.valid
          "
        >
          Send Message
        </button>
      </div>
    </form>
  </div>
</section>
