import './polyfills.server.mjs';
import{a as O,b as E,m as P,n as T}from"./chunk-SFSLUMU7.mjs";import{a as A}from"./chunk-74JGJNSJ.mjs";import"./chunk-L3LKMAJ5.mjs";import"./chunk-DL2HDLCX.mjs";import"./chunk-PZUJBLPM.mjs";import"./chunk-BI4PDNBI.mjs";import"./chunk-JJJL62AU.mjs";import"./chunk-ZGHL4WF5.mjs";import"./chunk-5LTXXU3Y.mjs";import"./chunk-KLCAW5LL.mjs";import"./chunk-67HAECRY.mjs";import{d as k}from"./chunk-APY6NCEA.mjs";import"./chunk-NP6UCXIG.mjs";import{$a as d,$b as n,Eb as i,Fb as o,Kb as _,Nb as s,Pb as p,Vb as h,Wb as x,Xb as b,ab as u,ac as w,ad as v,ed as M,ga as f,gc as S,qa as g,qb as y,ra as m,vb as C}from"./chunk-JFMF6S6U.mjs";import"./chunk-5XUXGTUW.mjs";function I(l,e){if(l&1){let t=_();i(0,"tr")(1,"td"),n(2),o(),i(3,"td")(4,"button",8),s("click",function(){let r=g(t).$implicit,c=p();return m(c.viewTags(r.cat_id))}),n(5," View Tags "),o()(),i(6,"td")(7,"button",8),s("click",function(){let r=g(t).$implicit,c=p();return m(c.editCategory(r.cat_id))}),n(8," Edit "),o(),i(9,"button",9),s("click",function(){let r=g(t).$implicit,c=p();return m(c.deleteCategory(r.cat_id))}),n(10," Delete "),o()()()}if(l&2){let t=e.$implicit;d(2),w(t.category_name)}}var V=class l{constructor(e,t){this.router=e;this.categoryService=t}categories=[];displayedColumns=["name","Actions"];dataSource=new T(this.categories);paginator;ngOnInit(){this.categoryService.getAllCategories().subscribe({next:e=>{console.log(e),this.categories=e},error:e=>{console.log(e)}})}ngAfterViewInit(){this.dataSource.paginator=this.paginator?this.paginator:null}viewTags(e){this.router.navigateByUrl(`admin/tags/${e}`)}addCategory(){this.router.navigateByUrl("admin/category/create")}editCategory(e){console.log("Editing category with ID:",e),this.router.navigateByUrl(`admin/category/update/${e}`)}deleteCategory(e){confirm("Are you sure you want to delete this category?")&&this.categoryService.deleteCategory(e).subscribe({next:()=>{alert("Category deleted successfully!"),this.categories=this.categories.filter(t=>t.cat_id!==e)},error:()=>{alert("Failed to delete category. Please try again.")}})}static \u0275fac=function(t){return new(t||l)(u(k),u(A))};static \u0275cmp=f({type:l,selectors:[["app-show-all-categories"]],viewQuery:function(t,a){if(t&1&&h(O,5),t&2){let r;x(r=b())&&(a.paginator=r.first)}},standalone:!0,features:[S],decls:18,vars:1,consts:[[1,"container","m-auto"],[1,"category"],[1,"title-part"],[1,"title"],["type","button",1,"btn",3,"click"],[1,"table","text-center"],["scope","col"],[4,"ngFor","ngForOf"],[1,"btn","bg-warning","mx-3",3,"click"],[1,"btn","bg-danger",3,"click"]],template:function(t,a){t&1&&(i(0,"section",0)(1,"div",1)(2,"div",2)(3,"h5",3),n(4,"Categories"),o(),i(5,"button",4),s("click",function(){return a.addCategory()}),n(6," Add Category "),o()(),i(7,"table",5)(8,"thead")(9,"tr")(10,"th",6),n(11,"Category Name"),o(),i(12,"th",6),n(13,"Tags"),o(),i(14,"th",6),n(15,"Action"),o()()(),i(16,"tbody"),y(17,I,11,1,"tr",7),o()()()()),t&2&&(d(17),C("ngForOf",a.categories))},dependencies:[M,v,E,P],styles:[".category[_ngcontent-%COMP%]{max-width:900px;margin:0 auto 50px;position:relative;padding:30px}.title-part[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.title[_ngcontent-%COMP%]{text-transform:uppercase;text-align:center;letter-spacing:3px;font-size:1.5em;line-height:48px;padding-bottom:5px;color:#f87f27;background:linear-gradient(to right,#f87f27,#262628);background-clip:text;-webkit-text-fill-color:transparent}th[_ngcontent-%COMP%]{padding:20px}td[_ngcontent-%COMP%]{align-content:center}.btn[_ngcontent-%COMP%]{background-color:#f87f27;color:#fff;font-size:16px;line-height:26px;font-weight:500;margin:10px 0}.btn[_ngcontent-%COMP%]:hover{background-color:#262628;color:#f87f27}"]})};export{V as ShowAllCategoriesComponent};
