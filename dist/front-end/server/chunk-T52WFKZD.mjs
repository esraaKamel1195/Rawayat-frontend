import './polyfills.server.mjs';
import{a as O}from"./chunk-QARGVGMP.mjs";import{a as w,b as P,c as B,d as E,e as A,f as L,g as T,i as F}from"./chunk-A6T57YKU.mjs";import{a as N}from"./chunk-5M7SFGPF.mjs";import"./chunk-74JGJNSJ.mjs";import"./chunk-L3LKMAJ5.mjs";import{a as j,c as D}from"./chunk-KLCAW5LL.mjs";import"./chunk-67HAECRY.mjs";import{a as k}from"./chunk-KA3EQVIX.mjs";import{d as x,e as M,g as h}from"./chunk-APY6NCEA.mjs";import"./chunk-NP6UCXIG.mjs";import{$a as r,$b as a,Eb as i,Fb as n,Gb as c,Pb as b,Sb as I,Tb as u,Ya as S,ab as p,ac as d,ad as _,bd as v,ed as y,ga as g,gc as f,qb as m,vb as l}from"./chunk-JFMF6S6U.mjs";import"./chunk-5XUXGTUW.mjs";function V(o,t){if(o&1&&c(0,"img",13),o&2){let e=b().$implicit;I("alt",e.title),l("src",e.cover_image,S)}}function z(o,t){if(o&1&&(i(0,"mat-card-content")(1,"p"),a(2),n()()),o&2){let e=b().$implicit;r(2),d(e.description)}}function W(o,t){if(o&1&&(i(0,"mat-card",9),m(1,V,1,2,"img",10),i(2,"mat-card-header")(3,"mat-card-title"),a(4),n(),i(5,"mat-card-subtitle"),a(6),n()(),m(7,z,3,1,"mat-card-content",11),i(8,"mat-card-actions")(9,"button",12),a(10," learn More "),n()()()),o&2){let e=t.$implicit;r(),l("ngIf",e.cover_image),r(3),d(e.title),r(2),d(e.category==null?null:e.category.category_name),r(),l("ngIf",e.description),r(2),u("routerLink","/story/",e.id,"/details")}}var C=class o{constructor(t,e){this.router=t;this.storiesServices=e}visibleStories=[];booksPerPage=[];stories=[];title="";routingItem="";ngOnInit(){this.router.url.includes("stories/latest-stories")&&this.storiesServices.getAdvertisementStoryByLatestStory().subscribe({next:t=>{console.log("latest",t),this.stories=t,this.loadInit()},error:t=>{console.log(t)}}),this.router.url.includes("stories/popular-stories")&&this.storiesServices.getTopStoriesByViews().subscribe({next:t=>{console.log("getTopStoriesByViews",t),this.stories=t},error:t=>{console.log(t)}})}loadInit(){this.visibleStories=this.stories.slice(0,6)}loadPrevious(){let t=this.visibleStories.length-6;this.visibleStories=this.stories.slice(t,t+6)}showDetails(t){this.router.navigateByUrl(`story/${t}/details`)}loadMore(){this.router.navigateByUrl("story/")}static \u0275fac=function(e){return new(e||o)(p(x),p(N))};static \u0275cmp=g({type:o,selectors:[["app-book-collection"]],inputs:{title:"title",routingItem:"routingItem"},standalone:!0,features:[f],decls:14,vars:6,consts:[[1,"container","my-2"],[1,"d-flex","justify-content-between"],[1,"title"],[3,"routerLink"],[1,"row","p-1"],[1,"book-list-container"],["class","book-card",4,"ngFor","ngForOf"],[1,"text-center"],[1,"btn",3,"routerLink"],[1,"book-card"],["mat-card-image","",3,"src","alt",4,"ngIf"],[4,"ngIf"],["mat-button","","color","primary",3,"routerLink"],["mat-card-image","",3,"src","alt"]],template:function(e,s){e&1&&(i(0,"div",0)(1,"div",1)(2,"div")(3,"h3",2),a(4),n()(),i(5,"div")(6,"a",3),a(7,"Show All"),n()()(),i(8,"div",4)(9,"div",5),m(10,W,11,6,"mat-card",6),n(),i(11,"div",7)(12,"button",8),a(13,"Load More"),n()()()()),e&2&&(r(4),d(s.title),r(2),u("routerLink","stories/",s.routingItem,""),r(4),l("ngForOf",s.visibleStories),r(2),u("routerLink","stories/",s.routingItem,""))},dependencies:[h,M,y,_,v,F,w,A,B,L,T,E,P,D,j],styles:[".container[_ngcontent-%COMP%]{padding:50px 0}h3.title[_ngcontent-%COMP%]{color:#fc7b1d}.btn[_ngcontent-%COMP%]{background-color:#fc7b1d;color:#fff}.card[_ngcontent-%COMP%]{width:200px}.book-card[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{object-fit:cover;margin:0;height:160px;width:100%}.book-list-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:16px;justify-content:center;padding:16px;min-width:100%}mat-card-content[_ngcontent-%COMP%]{min-width:170px;max-width:170px;height:60px;max-height:100px;overflow:hidden}"]})};function q(o,t){o&1&&c(0,"app-book-collection",11),o&2&&l("title","Stories Based on Selected Categories")("routingItem","spicial-stories")}var R=class o{constructor(t){this.authService=t}isAuthenticated=!1;ngOnInit(){this.isAuthenticated=this.authService.isAuthenticated()}categoryChange(t){console.log("event",t)}static \u0275fac=function(e){return new(e||o)(p(k))};static \u0275cmp=g({type:o,selectors:[["app-homepage"]],standalone:!0,features:[f],decls:21,vars:5,consts:[[1,"banner","shadow","mb-5"],[1,"row","py-2","container"],[1,"col-md-7","align-content-center","ps-4"],[1,"py-3"],[1,"col-md-5","align-content-center"],["src","images/book2.png","alt","books",1,"img-fluid"],[1,"container","my-5"],[1,"container","my-2"],[1,"text-center","cover-img"],["src","images/ads2.jpg","alt","img-item",1,"img-fluid"],[1,"container"],[3,"title","routingItem"],[3,"title","routingItem",4,"ngIf"]],template:function(e,s){e&1&&(i(0,"section")(1,"div",0)(2,"div",1)(3,"div",2)(4,"h1",3),a(5,"Unleash your "),i(6,"b"),a(7,"Creativity"),n()(),i(8,"p"),a(9,"With reading some stories and write your own story chapter"),n()(),i(10,"div",4),c(11,"img",5),n()()(),i(12,"div",6),c(13,"app-category-carousel"),n(),i(14,"div",7)(15,"div",8),c(16,"img",9),n()(),i(17,"div",10),c(18,"app-book-collection",11)(19,"app-book-collection",11),m(20,q,1,2,"app-book-collection",12),n()()),e&2&&(r(18),l("title","Latest Stories")("routingItem","latest-stories"),r(),l("title","Popular Stories")("routingItem","popular-stories"),r(),l("ngIf",s.isAuthenticated))},dependencies:[y,v,h,O,C],styles:[".banner[_ngcontent-%COMP%]{background:linear-gradient(to bottom,#ded9c4,#e2bf9a)}.container[_ngcontent-%COMP%]{max-width:100%}.container[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   b[_ngcontent-%COMP%]{color:#fc7b1d}"]})};export{R as HomepageComponent};
