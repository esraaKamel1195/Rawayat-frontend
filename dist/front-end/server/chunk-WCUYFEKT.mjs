import './polyfills.server.mjs';
import{a as C}from"./chunk-NQNWDP2G.mjs";import{a as ie,b as re,e as ae}from"./chunk-CN6FNKG6.mjs";import{a as pe}from"./chunk-74JGJNSJ.mjs";import{a as me}from"./chunk-PMN4URV3.mjs";import{t as de,u as ce}from"./chunk-ZGHL4WF5.mjs";import{a as g}from"./chunk-KA3EQVIX.mjs";import{b as le,d as se,e as A,f as b,g as h}from"./chunk-APY6NCEA.mjs";import{c as w,d as J,e as K,i as ee,j as te,k as oe,n as ne}from"./chunk-NP6UCXIG.mjs";import{$ as L,$a as s,$b as l,Aa as H,Eb as i,Fb as r,Gb as m,Ja as z,Kb as G,Nb as W,Oc as $,Pb as R,Sc as q,V as F,Y as P,ab as y,ac as Y,ad as Q,bb as j,bd as X,ca as v,db as B,ed as S,fb as U,ga as u,gc as f,ib as V,ja as O,ka as T,qa as N,qb as _,ra as D,vb as p,yc as Z}from"./chunk-JFMF6S6U.mjs";function Se(e,t){e&1&&(i(0,"li",9)(1,"a",10),l(2,"Home"),r()())}function Ae(e,t){e&1&&(i(0,"li",9)(1,"a",11),l(2,"About"),r()())}function be(e,t){if(e&1&&(i(0,"div",17)(1,"a",18),l(2),r()()),e&2){let o=t.$implicit;s(2),Y(o.category_name)}}function xe(e,t){if(e&1&&(i(0,"li",12)(1,"a",13),l(2,"Category"),r(),i(3,"ul",14)(4,"div",15),_(5,be,3,1,"div",16),r()()()),e&2){let o=R();s(5),p("ngForOf",o.categories)}}function ke(e,t){e&1&&(i(0,"li",9)(1,"a",19),l(2,"Stories"),r()())}function Ie(e,t){e&1&&(i(0,"li",9)(1,"a",20),l(2,"Contact"),r()())}function Re(e,t){e&1&&(i(0,"li",9)(1,"a",21),l(2,"Write"),r()())}function we(e,t){e&1&&(i(0,"li",9)(1,"a",22),l(2,"Login"),r()())}function Ee(e,t){e&1&&(i(0,"li",9)(1,"a",23),l(2,"Register"),r()())}function Me(e,t){e&1&&(i(0,"li",9)(1,"a",24),l(2,"Profile"),r()())}function Fe(e,t){if(e&1){let o=G();i(0,"li",9)(1,"a",25),W("click",function(){N(o);let a=R();return D(a.logout())}),l(2,"Logout"),r()()}}var x=class e{constructor(t,o,n){this.router=t;this.categoryService=o;this.authService=n;this.categoryService.getAllCategories().subscribe(a=>{this.categories=a})}categories=[];isAuthorized=!1;userRole="";ngOnInit(){this.isAuthorized=this.authService.isAuthenticated(),this.userRole=this.authService.getUserRole(),console.log("this.userRole",this.userRole)}logout(){this.authService.logout().subscribe({next:t=>{localStorage.removeItem("token"),localStorage.removeItem("user")},error:t=>{localStorage.removeItem("token"),localStorage.removeItem("user"),console.log("error",t.error.message),this.router.navigateByUrl("/auth/login")}})}static \u0275fac=function(o){return new(o||e)(y(se),y(pe),y(g))};static \u0275cmp=u({type:e,selectors:[["app-header"]],standalone:!0,features:[f],decls:19,vars:10,consts:[[1,"navbar","navbar-expand-lg","bg-white","shadow","d-flex","justify-content-between","ps-3"],["href","",1,"navbar-brand"],["src","images/rewayati-transparent.png","alt","Logo",1,"logo"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse"],[1,"navbar-nav","ms-auto"],["class","nav-item px-3",4,"ngIf"],["class","nav-item px-3 dropdown",4,"ngIf"],[1,"nav-item","px-3"],["routerLink","home","routerLinkActive","active",1,"nav-link"],["routerLink","about","routerLinkActive","active",1,"nav-link"],[1,"nav-item","px-3","dropdown"],["routerLinkActive","active","id","navbarDropdown","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle"],["aria-labelledby","navbarDropdown",1,"dropdown-menu","mt-2"],[1,"row"],["class","col-3",4,"ngFor","ngForOf"],[1,"col-3"],["routerLinkActive","active",1,"dropdown-item"],["routerLink","stories","routerLinkActive","active",1,"nav-link"],["routerLink","contact","routerLinkActive","active",1,"nav-link"],["routerLink","story/create","routerLinkActive","active",1,"nav-link"],["routerLink","auth/login","routerLinkActive","active",1,"nav-link"],["routerLink","auth/register","routerLinkActive","active",1,"nav-link"],["routerLink","/profile",1,"nav-link"],[1,"nav-link",3,"click"]],template:function(o,n){o&1&&(i(0,"nav",0)(1,"div")(2,"a",1),m(3,"img",2),r()(),i(4,"button",3),m(5,"span",4),r(),i(6,"div",5)(7,"ul",6),_(8,Se,3,0,"li",7)(9,Ae,3,0,"li",7)(10,xe,6,1,"li",8)(11,ke,3,0,"li",7)(12,Ie,3,0,"li",7)(13,Re,3,0,"li",7),r(),i(14,"ul",6),_(15,we,3,0,"li",7)(16,Ee,3,0,"li",7)(17,Me,3,0,"li",7)(18,Fe,3,0,"li",7),r()()()),o&2&&(s(8),p("ngIf",!n.router.url.includes("auth")&&n.userRole==="reader"),s(),p("ngIf",!n.router.url.includes("auth")&&n.userRole==="reader"),s(),p("ngIf",!n.router.url.includes("auth")&&n.userRole==="reader"),s(),p("ngIf",!n.router.url.includes("auth")&&n.userRole==="reader"),s(),p("ngIf",!n.router.url.includes("auth")&&n.userRole==="reader"),s(),p("ngIf",!n.router.url.includes("auth")&&n.userRole==="reader"),s(2),p("ngIf",!n.isAuthorized),s(),p("ngIf",!n.isAuthorized),s(),p("ngIf",n.isAuthorized),s(),p("ngIf",n.isAuthorized))},dependencies:[h,A,b,S,Q,X],styles:[".logo[_ngcontent-%COMP%]{width:100px;height:auto}.active[_ngcontent-%COMP%]{color:#f87f27!important;font-size:16px;font-weight:700}.dropdown[_ngcontent-%COMP%]{border:transparent}ul[_ngcontent-%COMP%]{width:600px}"]})};var k=class e{static \u0275fac=function(o){return new(o||e)};static \u0275cmp=u({type:e,selectors:[["app-footer"]],standalone:!0,features:[f],decls:36,vars:3,consts:[[1,"container-fluid","footer","text-center"],[1,"container-fluid","row","mt-3"],[1,"col-md-3","align-content-center"],["src","images/book-logo1.png","alt","",1,"img-fluid"],[1,"logo-text"],[1,"col-md-3"],["routerLinkActive","router-link-active",3,"routerLink"],[1,"col-md-3","contact"],["href","mailto:email@example.com"],[1,"col-md-3","social","text-center"],[1,"text-center"],["href","#"],[1,"fab","fa-facebook-square","ps-5"],[1,"fab","fa-twitter-square","ps-5"],[1,"fab","fa-instagram-square","ps-5"],[1,"fab","fa-linkedin","ps-5"]],template:function(o,n){o&1&&(i(0,"div",0)(1,"div",1)(2,"div",2),m(3,"img",3),i(4,"p",4),l(5,"Rewayati"),r()(),i(6,"div",5)(7,"h6"),l(8,"Quick Link"),r(),i(9,"ul")(10,"li",6),l(11," link1 "),r(),i(12,"li",6),l(13," link2 "),r(),i(14,"li",6),l(15," link3 "),r()()(),i(16,"div",7)(17,"h6"),l(18,"Contact Us"),r(),i(19,"p"),l(20,"Email: "),i(21,"a",8),l(22,"example&gmail.com"),r()(),i(23,"p"),l(24,"Phone: +1 123 456 7890"),r()(),i(25,"div",9)(26,"h6",10),l(27,"Social Media"),r(),i(28,"a",11),m(29,"i",12),r(),i(30,"a",11),m(31,"i",13),r(),i(32,"a",11),m(33,"i",14),r(),i(34,"a",11),m(35,"i",15),r()()()()),o&2&&(s(10),p("routerLink","/routePath"),s(2),p("routerLink","/routePath"),s(2),p("routerLink","/routePath"))},dependencies:[S,h,A,b],styles:[".footer[_ngcontent-%COMP%]{background-color:#262628;color:#f9f7f3;align-content:center;position:relative;bottom:0}.img-fluid[_ngcontent-%COMP%]{height:70px;width:70px}.logo-text[_ngcontent-%COMP%]{font-size:20px;font-family:cursive;letter-spacing:1px}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style-type:none;padding:5px;margin-right:40px;color:#f9f7f3;transition:color .3s ease-in-out}.contact[_ngcontent-%COMP%]{color:#f9f7f3}a[_ngcontent-%COMP%]{color:#f9f7f3;text-decoration:none;transition:color .3s ease-in-out}.social[_ngcontent-%COMP%]{display:flex;flex-direction:column}.fab[_ngcontent-%COMP%]{margin-right:10px;font-size:24px}"]})};var I=class e{title="front-end";static \u0275fac=function(o){return new(o||e)};static \u0275cmp=u({type:e,selectors:[["app-root"]],standalone:!0,features:[f],decls:3,vars:0,consts:[["id","header"],["id","footer"]],template:function(o,n){o&1&&m(0,"app-header",0)(1,"router-outlet")(2,"app-footer",1)},dependencies:[le,x,k],styles:["#footer[_ngcontent-%COMP%]{position:relative;bottom:0;width:100%;z-index:1}"]})};var Pe="@",Le=(()=>{class e{constructor(o,n,a,d,c){this.doc=o,this.delegate=n,this.zone=a,this.animationType=d,this.moduleImpl=c,this._rendererFactoryPromise=null,this.scheduler=v(B,{optional:!0}),this.loadingSchedulerFn=v(Oe,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){let o=()=>this.moduleImpl??import("./chunk-64KD4Y2G.mjs").then(a=>a),n;return this.loadingSchedulerFn?n=this.loadingSchedulerFn(o):n=o(),n.catch(a=>{throw new F(5300,!1)}).then(({\u0275createEngine:a,\u0275AnimationRendererFactory:d})=>{this._engine=a(this.animationType,this.doc);let c=new d(this.delegate,this._engine,this.zone);return this.delegate=c,c})}createRenderer(o,n){let a=this.delegate.createRenderer(o,n);if(a.\u0275type===0)return a;typeof a.throwOnSyntheticProps=="boolean"&&(a.throwOnSyntheticProps=!1);let d=new M(a);return n?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(c=>{let ye=c.createRenderer(o,n);d.use(ye),this.scheduler?.notify(10)}).catch(c=>{d.use(a)}),d}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}static{this.\u0275fac=function(n){j()}}static{this.\u0275prov=P({token:e,factory:e.\u0275fac})}}return e})(),M=class{constructor(t){this.delegate=t,this.replay=[],this.\u0275type=1}use(t){if(this.delegate=t,this.replay!==null){for(let o of this.replay)o(t);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(t,o){return this.delegate.createElement(t,o)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}get destroyNode(){return this.delegate.destroyNode}appendChild(t,o){this.delegate.appendChild(t,o)}insertBefore(t,o,n,a){this.delegate.insertBefore(t,o,n,a)}removeChild(t,o,n){this.delegate.removeChild(t,o,n)}selectRootElement(t,o){return this.delegate.selectRootElement(t,o)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,o,n,a){this.delegate.setAttribute(t,o,n,a)}removeAttribute(t,o,n){this.delegate.removeAttribute(t,o,n)}addClass(t,o){this.delegate.addClass(t,o)}removeClass(t,o){this.delegate.removeClass(t,o)}setStyle(t,o,n,a){this.delegate.setStyle(t,o,n,a)}removeStyle(t,o,n){this.delegate.removeStyle(t,o,n)}setProperty(t,o,n){this.shouldReplay(o)&&this.replay.push(a=>a.setProperty(t,o,n)),this.delegate.setProperty(t,o,n)}setValue(t,o){this.delegate.setValue(t,o)}listen(t,o,n){return this.shouldReplay(o)&&this.replay.push(a=>a.listen(t,o,n)),this.delegate.listen(t,o,n)}shouldReplay(t){return this.replay!==null&&t.startsWith(Pe)}},Oe=new L("");function fe(e="animations"){return V("NgAsyncAnimations"),O([{provide:U,useFactory:(t,o,n)=>new Le(t,o,n,e),deps:[q,ee,H]},{provide:z,useValue:e==="noop"?"NoopAnimations":"BrowserAnimations"}])}var he=[{path:"",loadComponent:()=>import("./chunk-T52WFKZD.mjs").then(e=>e.HomepageComponent)},{path:"auth",loadChildren:()=>import("./chunk-6F6GRSLH.mjs").then(e=>e.AuthModule)},{path:"home",loadComponent:()=>import("./chunk-T52WFKZD.mjs").then(e=>e.HomepageComponent)},{path:"profile",canActivate:[C],data:{role:["reader","admin"]},loadComponent:()=>import("./chunk-LTQNRCCE.mjs").then(e=>e.ProfileComponent)},{path:"stories/latest-stories",loadComponent:()=>import("./chunk-UJUDTQID.mjs").then(e=>e.StoriesComponent)},{path:"stories/popular-stories",loadComponent:()=>import("./chunk-UJUDTQID.mjs").then(e=>e.StoriesComponent)},{path:"stories-by-category/:category_id",loadComponent:()=>import("./chunk-UJUDTQID.mjs").then(e=>e.StoriesComponent)},{path:"stories-by-tags/:tag_id",loadComponent:()=>import("./chunk-UJUDTQID.mjs").then(e=>e.StoriesComponent)},{path:"story/:storyId/details",canActivate:[C],data:{role:["reader","admin"]},loadComponent:()=>import("./chunk-ARHPLEID.mjs").then(e=>e.StoryDetailsComponent)},{path:"story/:storyId/read",canActivate:[C],data:{role:["reader","admin"]},loadComponent:()=>import("./chunk-5LHCRK75.mjs").then(e=>e.StoryChaptersComponent)},{path:"admin",canActivate:[C],data:{role:"admin"},canActivateChild:[],loadChildren:()=>import("./chunk-IWZ4ICZ4.mjs").then(e=>e.AdminModule)},{path:"about",loadComponent:()=>import("./chunk-AIUSVZKI.mjs").then(e=>e.AboutComponent)},{path:"contact",loadComponent:()=>import("./chunk-DDE6WVM3.mjs").then(e=>e.ContactUsComponent)},{path:"**",loadComponent:()=>import("./chunk-F6KFSKG5.mjs").then(e=>e.ErrorComponent)}];var ge=(e,t,o=v(g))=>{let n=o.getToken();return console.log("token from auth.interceptor",n),n&&(e=e.clone({setHeaders:{Authorization:`Bearer ${n}`}})),t(e)};var ve={providers:[Z({eventCoalescing:!0}),ne(),fe(),T([de,ce,oe,ie,re,h.forRoot(he)]),w(J([ge])),w(K()),me,g]};var Te={providers:[ae()]},Ce=$(ve,Te);var Ne=()=>te(I,Ce),Mt=Ne;export{Mt as a};
