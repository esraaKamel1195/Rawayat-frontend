import './polyfills.server.mjs';
import{a as c,b as k,m as A,n as F}from"./chunk-SFSLUMU7.mjs";import{a as P}from"./chunk-5M7SFGPF.mjs";import"./chunk-L3LKMAJ5.mjs";import"./chunk-DL2HDLCX.mjs";import"./chunk-PZUJBLPM.mjs";import"./chunk-BI4PDNBI.mjs";import"./chunk-JJJL62AU.mjs";import"./chunk-ZGHL4WF5.mjs";import"./chunk-5LTXXU3Y.mjs";import"./chunk-KLCAW5LL.mjs";import"./chunk-67HAECRY.mjs";import{d as O}from"./chunk-APY6NCEA.mjs";import"./chunk-NP6UCXIG.mjs";import{$a as r,$b as o,Eb as n,Fb as i,Gb as h,Kb as _,Nb as f,Pb as S,Vb as v,Wb as w,Xb as E,ab as g,ac as m,ad as M,ed as L,ga as b,gc as C,hc as I,qa as d,qb as x,ra as u,vb as y}from"./chunk-JFMF6S6U.mjs";import"./chunk-5XUXGTUW.mjs";var V=()=>[5,10,20];function D(a,e){if(a&1){let t=_();n(0,"tr")(1,"td"),o(2),i(),n(3,"td"),o(4),i(),n(5,"td"),o(6),i(),n(7,"td"),o(8),i(),n(9,"td")(10,"button",8),f("click",function(){let s=d(t).$implicit,p=S();return u(p.edit(s.id))}),o(11," Edit "),i(),n(12,"button",9),f("click",function(){let s=d(t).$implicit,p=S();return u(p.deleteStory(s.id))}),o(13," Delete "),i()()()}if(a&2){let t=e.$implicit;r(2),m(t.title),r(2),m(t.category),r(2),m(t.status),r(2),m(t.content_type)}}var T=class a{constructor(e,t){this.router=e;this.storyService=t}stories=[];displayedColumns=["title","category","publication_status","symbol","Actions"];dataSource=new F(this.stories);paginator;ngOnInit(){this.storyService.getAllStories().subscribe({next:e=>{console.log("stories",e),this.stories=e},error:e=>{console.error("Error retrieving contacts:",e)}})}ngAfterViewInit(){this.dataSource.paginator=this.paginator?this.paginator:null}edit(e=0){console.log("Editing category with ID:",e),this.router.navigate([`category/update/${e}`])}viewStory(){}deleteStory(e=0){confirm("Are you sure you want to delete this story?")&&this.storyService.deleteStory(e).subscribe({next:()=>{alert("Story deleted successfully!"),this.stories=this.stories.filter(t=>t.id!==e)},error:t=>{console.log(t),alert("Failed to delete story. Please try again.")}})}static \u0275fac=function(t){return new(t||a)(g(O),g(P))};static \u0275cmp=b({type:a,selectors:[["app-stories-list"]],viewQuery:function(t,l){if(t&1&&v(c,5),t&2){let s;w(s=E())&&(l.paginator=s.first)}},standalone:!0,features:[C],decls:21,vars:3,consts:[[1,"container"],[1,"title-part"],[1,"title"],[1,"mat-elevation-z8"],[1,"table","text-center"],["scope","col"],[4,"ngFor","ngForOf"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],[1,"btn","bg-warning","mx-3",3,"click"],[1,"btn","bg-danger",3,"click"]],template:function(t,l){t&1&&(n(0,"div",0)(1,"div",1)(2,"h5",2),o(3,"Stories"),i()(),n(4,"div",3)(5,"table",4)(6,"thead")(7,"tr")(8,"th",5),o(9,"Title"),i(),n(10,"th",5),o(11,"Category"),i(),n(12,"th",5),o(13,"Status"),i(),n(14,"th",5),o(15,"Content type"),i(),n(16,"th",5),o(17,"Action"),i()()(),n(18,"tbody"),x(19,D,14,4,"tr",6),i()(),h(20,"mat-paginator",7),i()()),t&2&&(r(19),y("ngForOf",l.stories),r(),y("pageSizeOptions",I(2,V)))},dependencies:[L,M,k,c,A],styles:[".title-part[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.title[_ngcontent-%COMP%]{text-transform:uppercase;text-align:center;letter-spacing:3px;font-size:1.5em;line-height:48px;padding-bottom:5px;color:#f87f27;background:linear-gradient(to right,#f87f27,#262628);background-clip:text;-webkit-text-fill-color:transparent}"]})};export{T as StoriesListComponent};
