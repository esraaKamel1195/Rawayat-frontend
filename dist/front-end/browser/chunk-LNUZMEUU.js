import{a as m,b as F,m as R,n as _}from"./chunk-7SMTJZZP.js";import{a as A}from"./chunk-5LRLNLMG.js";import"./chunk-BCOK47RC.js";import"./chunk-AFMMQFCP.js";import"./chunk-HPSNOQTZ.js";import"./chunk-6AKESU7J.js";import"./chunk-RAJ4HTP7.js";import"./chunk-N2SCIOI6.js";import"./chunk-6XXA7HXI.js";import"./chunk-2OPUPMLU.js";import"./chunk-TJXMHTLD.js";import{a as P,c as E}from"./chunk-BNBCP7ER.js";import"./chunk-FAX5B2RI.js";import{Cb as n,Db as i,Eb as y,Ib as x,Lb as g,Nb as b,Tb as T,Tc as k,Ub as C,Vb as S,Xc as O,Za as c,Zb as a,_a as l,_b as w,ec as I,fc as M,ga as h,ob as v,qa as d,ra as u,tb as f}from"./chunk-OHLU4CVY.js";import"./chunk-GAL4ENT6.js";var D=()=>[5,10,20];function z(s,t){if(s&1){let e=x();n(0,"tr")(1,"td"),a(2),i(),n(3,"td")(4,"button",9),g("click",function(){let o=d(e).$implicit,p=b();return u(p.edit(o.id))}),a(5," Edit "),i(),n(6,"button",10),g("click",function(){let o=d(e).$implicit,p=b();return u(p.deleteTag(o.id))}),a(7," Delete "),i()()()}if(s&2){let e=t.$implicit;c(2),w(e.name)}}var V=class s{constructor(t,e,r){this.activatedRoute=t;this.router=e;this.categoryService=r}tags=[];categoryId="";displayedColumns=["name","tags","actions"];dataSource=new _(this.tags);paginator;ngOnInit(){this.activatedRoute.params.subscribe(t=>{this.categoryId=t.categoryId}),this.categoryService.getTagsByCategory(this.categoryId).subscribe({next:t=>{console.log("response",t),this.tags=t.tags,this.dataSource=new _(this.tags)},error:t=>{console.log("error",t)}})}ngAfterViewInit(){this.dataSource.paginator=this.paginator?this.paginator:null}addTag(){this.router.navigate(["tags/create"])}edit(t=0){console.log("Editing tag with ID:",t),this.router.navigate([`tags/update/${t}`])}deleteTag(t=0){confirm("Are you sure you want to delete this tag?")&&this.categoryService.deleteTag(t).subscribe({next:()=>{alert("Tag deleted successfully!"),this.tags=this.tags.filter(e=>e.id!==t)},error:()=>{alert("Failed to delete tag. Please try again.")}})}static \u0275fac=function(e){return new(e||s)(l(P),l(E),l(A))};static \u0275cmp=h({type:s,selectors:[["app-tags"]],viewQuery:function(e,r){if(e&1&&T(m,5),e&2){let o;C(o=S())&&(r.paginator=o.first)}},standalone:!0,features:[I],decls:17,vars:3,consts:[[1,"container"],[1,"title-part"],[1,"title"],["type","button",1,"btn",3,"click"],[1,"mat-elevation-z8"],[1,"table","text-center"],["scope","col"],[4,"ngFor","ngForOf"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],[1,"btn","bg-warning","mx-3",3,"click"],[1,"btn","bg-danger",3,"click"]],template:function(e,r){e&1&&(n(0,"div",0)(1,"div",1)(2,"h5",2),a(3,"Tags"),i(),n(4,"button",3),g("click",function(){return r.addTag()}),a(5,"Add Tag"),i()(),n(6,"div",4)(7,"table",5)(8,"thead")(9,"tr")(10,"th",6),a(11,"Name"),i(),n(12,"th",6),a(13,"Action"),i()()(),n(14,"tbody"),v(15,z,8,1,"tr",7),i()(),y(16,"mat-paginator",8),i()()),e&2&&(c(15),f("ngForOf",r.tags),c(),f("pageSizeOptions",M(2,D)))},dependencies:[O,k,F,m,R],styles:[".title-part[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.title[_ngcontent-%COMP%]{text-transform:uppercase;text-align:center;letter-spacing:3px;font-size:1.5em;line-height:48px;padding-bottom:5px;color:#f87f27;background:linear-gradient(to right,#f87f27,#262628);background-clip:text;-webkit-text-fill-color:transparent}.btn[_ngcontent-%COMP%]{background-color:#f87f27;color:#fff;font-size:16px;line-height:26px;font-weight:500;margin:10px 0}.btn[_ngcontent-%COMP%]:hover{background-color:#262628;color:#f87f27}"]})};export{V as TagsComponent};
