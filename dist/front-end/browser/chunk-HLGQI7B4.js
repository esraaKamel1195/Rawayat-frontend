import{a as V}from"./chunk-EKGFR3FT.js";import{a as S,b as O,c as P,d as $,e as F,f as A,g as H,h as z,i as Q,j,k as N,l as G,m as q,n as w}from"./chunk-7SMTJZZP.js";import"./chunk-BCOK47RC.js";import"./chunk-AFMMQFCP.js";import"./chunk-HPSNOQTZ.js";import"./chunk-6AKESU7J.js";import"./chunk-RAJ4HTP7.js";import"./chunk-N2SCIOI6.js";import"./chunk-6XXA7HXI.js";import"./chunk-2OPUPMLU.js";import"./chunk-TJXMHTLD.js";import{c as R}from"./chunk-BNBCP7ER.js";import"./chunk-FAX5B2RI.js";import{Cb as r,Db as i,Eb as h,Fb as u,Gb as f,Ib as U,Lb as _,Nb as g,Tb as v,Tc as k,Ub as y,Vb as M,Xc as I,Za as a,Zb as o,_a as b,_b as m,ec as D,fc as T,ga as E,ob as c,qa as x,ra as C,tb as p}from"./chunk-OHLU4CVY.js";import"./chunk-GAL4ENT6.js";var L=()=>[5,10,20];function J(e,t){e&1&&(r(0,"th",19),o(1,"Username"),i())}function K(e,t){if(e&1&&(r(0,"td",20),o(1),i()),e&2){let n=t.$implicit;a(),m(n.username)}}function W(e,t){e&1&&(r(0,"th",19),o(1,"Email"),i())}function X(e,t){if(e&1&&(r(0,"td",20),o(1),i()),e&2){let n=t.$implicit;a(),m(n.email)}}function Y(e,t){e&1&&(r(0,"th",19),o(1,"Role"),i())}function Z(e,t){if(e&1&&(r(0,"td",20),o(1),i()),e&2){let n=t.$implicit;a(),m(n.role)}}function ee(e,t){e&1&&(r(0,"th",19),o(1,"Gender"),i())}function te(e,t){if(e&1&&(r(0,"td",20),o(1),i()),e&2){let n=t.$implicit;a(),m(n.gender)}}function ne(e,t){e&1&&(r(0,"th",19),o(1,"Actions"),i())}function ie(e,t){if(e&1){let n=U();r(0,"td",20)(1,"button",21),_("click",function(){let s=x(n).$implicit,d=g();return C(d.edit(s.id))}),o(2," Edit "),i(),r(3,"button",22),_("click",function(){let s=x(n).$implicit,d=g();return C(d.deleteUser(s.id))}),o(4," Delete "),i()()}}function re(e,t){e&1&&h(0,"tr",23)}function oe(e,t){e&1&&h(0,"tr",24)}function ae(e,t){if(e&1){let n=U();r(0,"tr")(1,"td"),o(2),i(),r(3,"td"),o(4),i(),r(5,"td"),o(6),i(),r(7,"td"),o(8),i(),r(9,"td")(10,"button",21),_("click",function(){let s=x(n).$implicit,d=g();return C(d.edit(s.id))}),o(11," Edit "),i(),r(12,"button",22),_("click",function(){let s=x(n).$implicit,d=g();return C(d.deleteUser(s.id))}),o(13," Delete "),i()()()}if(e&2){let n=t.$implicit;a(2),m(n.username),a(2),m(n.email),a(2),m(n.role),a(2),m(n.gender)}}var B=class e{constructor(t,n){this.router=t;this.usersService=n}users=[];displayedColumns=["username","email","role","gender","actions"];dataSource=new w(this.users);paginator;ngOnInit(){this.usersService.getUsers().subscribe({next:t=>{console.log("response",t),this.users=t,this.dataSource=new w(this.users)},error:t=>{console.log("error",t)}})}ngAfterViewInit(){this.dataSource.paginator=this.paginator?this.paginator:null}addUser(){}edit(t=0){console.log("Editing User with ID:",t),this.router.navigate([`user/update/${t}`])}deleteUser(t=0){confirm("Are you sure you want to delete this User?")&&this.usersService.deleteUser(t).subscribe({next:()=>{alert("User deleted successfully!"),this.users=this.users.filter(n=>n.id!==t)},error:()=>{alert("Failed to delete user. Please try again.")}})}static \u0275fac=function(n){return new(n||e)(b(R),b(V))};static \u0275cmp=E({type:e,selectors:[["app-users"]],viewQuery:function(n,l){if(n&1&&v(S,5),n&2){let s;y(s=M())&&(l.paginator=s.first)}},standalone:!0,features:[D],decls:41,vars:6,consts:[[1,"container"],[1,"title-part"],[1,"title"],["type","button",1,"btn",3,"click"],[1,"mat-elevation-z8"],["mat-table","",3,"dataSource"],["matColumnDef","username"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","email"],["matColumnDef","role"],["matColumnDef","gender"],["matColumnDef","action"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"table","text-center"],["scope","col"],[4,"ngFor","ngForOf"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],["mat-header-cell",""],["mat-cell",""],[1,"btn","bg-warning","mx-3",3,"click"],[1,"btn","bg-danger",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(n,l){n&1&&(r(0,"div",0)(1,"div",1)(2,"h5",2),o(3,"Users"),i(),r(4,"button",3),_("click",function(){return l.addUser()}),o(5,"Add User"),i()(),r(6,"div",4)(7,"table",5),u(8,6),c(9,J,2,0,"th",7)(10,K,2,1,"td",8),f(),u(11,9),c(12,W,2,0,"th",7)(13,X,2,1,"td",8),f(),u(14,10),c(15,Y,2,0,"th",7)(16,Z,2,1,"td",8),f(),u(17,11),c(18,ee,2,0,"th",7)(19,te,2,1,"td",8),f(),u(20,12),c(21,ne,2,0,"th",7)(22,ie,5,0,"td",8),f(),c(23,re,1,0,"tr",13)(24,oe,1,0,"tr",14),i(),r(25,"table",15)(26,"thead")(27,"tr")(28,"th",16),o(29,"Username"),i(),r(30,"th",16),o(31,"Email"),i(),r(32,"th",16),o(33,"Role"),i(),r(34,"th",16),o(35,"Gender"),i(),r(36,"th",16),o(37,"Action"),i()()(),r(38,"tbody"),c(39,ae,14,4,"tr",17),i()(),h(40,"mat-paginator",18),i()()),n&2&&(a(7),p("dataSource",l.dataSource),a(16),p("matHeaderRowDef",l.displayedColumns),a(),p("matRowDefColumns",l.displayedColumns),a(15),p("ngForOf",l.users),a(),p("pageSizeOptions",T(5,L)))},dependencies:[I,k,O,S,q,P,F,Q,A,$,j,H,z,N,G],styles:[".title-part[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.title[_ngcontent-%COMP%]{text-transform:uppercase;text-align:center;letter-spacing:3px;font-size:1.5em;line-height:48px;padding-bottom:5px;color:#f87f27;background:linear-gradient(to right,#f87f27,#262628);background-clip:text;-webkit-text-fill-color:transparent}.btn[_ngcontent-%COMP%]{background-color:#f87f27;color:#fff;font-size:16px;line-height:26px;font-weight:500;margin:10px 0}.btn[_ngcontent-%COMP%]:hover{background-color:#262628;color:#f87f27}"]})};export{B as UsersComponent};
