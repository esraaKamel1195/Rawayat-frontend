import{a as _}from"./chunk-ZBZE7U7A.js";import{f as pe,g as A,h as D,m as ce,n as O,p as ue,u as fe}from"./chunk-44UGMEKI.js";import{a as ye}from"./chunk-5LRLNLMG.js";import"./chunk-BCOK47RC.js";import{a as he}from"./chunk-ME5IHUK7.js";import{t as ge,u as ve}from"./chunk-N2SCIOI6.js";import"./chunk-6XXA7HXI.js";import{a as g}from"./chunk-6ZNBHGLW.js";import{b as me,c as de,d as N,e as F,f as h}from"./chunk-BNBCP7ER.js";import{b as U,c as re,d as ae,e as w,f as le,g as C,j as se}from"./chunk-FAX5B2RI.js";import{$ as Z,$a as X,Aa as x,Cb as i,Db as r,Eb as d,Ib as K,Ja as y,Lb as ee,Lc as k,Nb as V,Tc as ne,Uc as ie,V as Y,Xc as E,Y as S,Z as j,Za as s,Zb as l,_a as I,_b as te,ba as b,bb as J,ca as v,db as M,ec as f,ga as u,gb as B,ha as z,ja as G,ka as $,ob as R,qa as q,ra as Q,tb as m,wc as oe}from"./chunk-OHLU4CVY.js";import"./chunk-GAL4ENT6.js";var we="@",Ne=(()=>{class e{constructor(t,n,a,p,c){this.doc=t,this.delegate=n,this.zone=a,this.animationType=p,this.moduleImpl=c,this._rendererFactoryPromise=null,this.scheduler=v(J,{optional:!0}),this.loadingSchedulerFn=v(Fe,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){let t=()=>this.moduleImpl??import("./chunk-B2N5TSR4.js").then(a=>a),n;return this.loadingSchedulerFn?n=this.loadingSchedulerFn(t):n=t(),n.catch(a=>{throw new Y(5300,!1)}).then(({\u0275createEngine:a,\u0275AnimationRendererFactory:p})=>{this._engine=a(this.animationType,this.doc);let c=new p(this.delegate,this._engine,this.zone);return this.delegate=c,c})}createRenderer(t,n){let a=this.delegate.createRenderer(t,n);if(a.\u0275type===0)return a;typeof a.throwOnSyntheticProps=="boolean"&&(a.throwOnSyntheticProps=!1);let p=new W(a);return n?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(c=>{let Ee=c.createRenderer(t,n);p.use(Ee),this.scheduler?.notify(10)}).catch(c=>{p.use(a)}),p}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}static{this.\u0275fac=function(n){X()}}static{this.\u0275prov=S({token:e,factory:e.\u0275fac})}}return e})(),W=class{constructor(o){this.delegate=o,this.replay=[],this.\u0275type=1}use(o){if(this.delegate=o,this.replay!==null){for(let t of this.replay)t(o);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(o,t){return this.delegate.createElement(o,t)}createComment(o){return this.delegate.createComment(o)}createText(o){return this.delegate.createText(o)}get destroyNode(){return this.delegate.destroyNode}appendChild(o,t){this.delegate.appendChild(o,t)}insertBefore(o,t,n,a){this.delegate.insertBefore(o,t,n,a)}removeChild(o,t,n){this.delegate.removeChild(o,t,n)}selectRootElement(o,t){return this.delegate.selectRootElement(o,t)}parentNode(o){return this.delegate.parentNode(o)}nextSibling(o){return this.delegate.nextSibling(o)}setAttribute(o,t,n,a){this.delegate.setAttribute(o,t,n,a)}removeAttribute(o,t,n){this.delegate.removeAttribute(o,t,n)}addClass(o,t){this.delegate.addClass(o,t)}removeClass(o,t){this.delegate.removeClass(o,t)}setStyle(o,t,n,a){this.delegate.setStyle(o,t,n,a)}removeStyle(o,t,n){this.delegate.removeStyle(o,t,n)}setProperty(o,t,n){this.shouldReplay(t)&&this.replay.push(a=>a.setProperty(o,t,n)),this.delegate.setProperty(o,t,n)}setValue(o,t){this.delegate.setValue(o,t)}listen(o,t,n){return this.shouldReplay(t)&&this.replay.push(a=>a.listen(o,t,n)),this.delegate.listen(o,t,n)}shouldReplay(o){return this.replay!==null&&o.startsWith(we)}},Fe=new Z("");function Ce(e="animations"){return B("NgAsyncAnimations"),G([{provide:M,useFactory:(o,t,n)=>new Ne(o,t,n,e),deps:[k,w,x]},{provide:y,useValue:e==="noop"?"NoopAnimations":"BrowserAnimations"}])}var De=(()=>{class e extends O{constructor(t,n,a){super(t,n,a)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(n){return new(n||e)(b(k),b(A),b(D))}}static{this.\u0275prov=S({token:e,factory:e.\u0275fac})}}return e})();function Oe(){return new ce}function Pe(e,o,t){return new fe(e,o,t)}var _e=[{provide:D,useFactory:Oe},{provide:O,useClass:De},{provide:M,useFactory:Pe,deps:[w,O,x]}],Ae=[{provide:A,useFactory:()=>new ue},{provide:y,useValue:"BrowserAnimations"},..._e],Se=[{provide:A,useClass:pe},{provide:y,useValue:"NoopAnimations"},..._e],be=(()=>{class e{static withConfig(t){return{ngModule:e,providers:t.disableAnimations?Se:Ae}}static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=z({type:e})}static{this.\u0275inj=j({providers:Ae,imports:[C]})}}return e})();var xe=(()=>{class e{static{this.\u0275fac=function(n){return new(n||e)}}static{this.\u0275mod=z({type:e})}static{this.\u0275inj=j({providers:Se,imports:[C]})}}return e})();var Ie=[{path:"",loadComponent:()=>import("./chunk-T2Z42FMI.js").then(e=>e.HomepageComponent)},{path:"auth",loadChildren:()=>import("./chunk-JHY64ND5.js").then(e=>e.AuthModule)},{path:"home",loadComponent:()=>import("./chunk-T2Z42FMI.js").then(e=>e.HomepageComponent)},{path:"profile",canActivate:[_],data:{role:["reader","admin"]},loadComponent:()=>import("./chunk-3I5CTVK7.js").then(e=>e.ProfileComponent)},{path:"stories/latest-stories",loadComponent:()=>import("./chunk-ZJOLKYRB.js").then(e=>e.StoriesComponent)},{path:"stories/popular-stories",loadComponent:()=>import("./chunk-ZJOLKYRB.js").then(e=>e.StoriesComponent)},{path:"stories-by-category/:category_id",loadComponent:()=>import("./chunk-ZJOLKYRB.js").then(e=>e.StoriesComponent)},{path:"stories-by-tags/:tag_id",loadComponent:()=>import("./chunk-ZJOLKYRB.js").then(e=>e.StoriesComponent)},{path:"story/:storyId/details",canActivate:[_],data:{role:["reader","admin"]},loadComponent:()=>import("./chunk-PITEPQHH.js").then(e=>e.StoryDetailsComponent)},{path:"story/:storyId/read",canActivate:[_],data:{role:["reader","admin"]},loadComponent:()=>import("./chunk-XJUN3WPU.js").then(e=>e.StoryChaptersComponent)},{path:"admin",canActivate:[_],data:{role:"admin"},canActivateChild:[],loadChildren:()=>import("./chunk-KDXONEDK.js").then(e=>e.AdminModule)},{path:"about",loadComponent:()=>import("./chunk-3WBCR2WF.js").then(e=>e.AboutComponent)},{path:"contact",loadComponent:()=>import("./chunk-WUD4NAYR.js").then(e=>e.ContactUsComponent)},{path:"**",loadComponent:()=>import("./chunk-CU3WOOX4.js").then(e=>e.ErrorComponent)}];var Me=(e,o,t=v(g))=>{let n=t.getToken();return console.log("token from auth.interceptor",n),n&&(e=e.clone({setHeaders:{Authorization:`Bearer ${n}`}})),o(e)};var Re={providers:[oe({eventCoalescing:!0}),se(),Ce(),$([ge,ve,C,be,xe,h.forRoot(Ie)]),U(re([Me])),U(ae()),he,g]};function Le(e,o){e&1&&(i(0,"li",9)(1,"a",10),l(2,"Home"),r()())}function He(e,o){e&1&&(i(0,"li",9)(1,"a",11),l(2,"About"),r()())}function je(e,o){if(e&1&&(i(0,"div",17)(1,"a",18),l(2),r()()),e&2){let t=o.$implicit;s(2),te(t.category_name)}}function ze(e,o){if(e&1&&(i(0,"li",12)(1,"a",13),l(2,"Category"),r(),i(3,"ul",14)(4,"div",15),R(5,je,3,1,"div",16),r()()()),e&2){let t=V();s(5),m("ngForOf",t.categories)}}function Be(e,o){e&1&&(i(0,"li",9)(1,"a",19),l(2,"Stories"),r()())}function Ve(e,o){e&1&&(i(0,"li",9)(1,"a",20),l(2,"Contact"),r()())}function Ue(e,o){e&1&&(i(0,"li",9)(1,"a",21),l(2,"Write"),r()())}function We(e,o){e&1&&(i(0,"li",9)(1,"a",22),l(2,"Login"),r()())}function Ye(e,o){e&1&&(i(0,"li",9)(1,"a",23),l(2,"Register"),r()())}function Ze(e,o){e&1&&(i(0,"li",9)(1,"a",24),l(2,"Profile"),r()())}function Ge(e,o){if(e&1){let t=K();i(0,"li",9)(1,"a",25),ee("click",function(){q(t);let a=V();return Q(a.logout())}),l(2,"Logout"),r()()}}var T=class e{constructor(o,t,n){this.router=o;this.categoryService=t;this.authService=n;this.categoryService.getAllCategories().subscribe(a=>{this.categories=a})}categories=[];isAuthorized=!1;userRole="";ngOnInit(){this.isAuthorized=this.authService.isAuthenticated(),this.userRole=this.authService.getUserRole(),console.log("this.userRole",this.userRole)}logout(){this.authService.logout().subscribe({next:o=>{localStorage.removeItem("token"),localStorage.removeItem("user")},error:o=>{localStorage.removeItem("token"),localStorage.removeItem("user"),console.log("error",o.error.message),this.router.navigateByUrl("/auth/login")}})}static \u0275fac=function(t){return new(t||e)(I(de),I(ye),I(g))};static \u0275cmp=u({type:e,selectors:[["app-header"]],standalone:!0,features:[f],decls:19,vars:10,consts:[[1,"navbar","navbar-expand-lg","bg-white","shadow","d-flex","justify-content-between","ps-3"],["href","",1,"navbar-brand"],["src","images/rewayati-transparent.png","alt","Logo",1,"logo"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarNav",1,"collapse","navbar-collapse"],[1,"navbar-nav","ms-auto"],["class","nav-item px-3",4,"ngIf"],["class","nav-item px-3 dropdown",4,"ngIf"],[1,"nav-item","px-3"],["routerLink","home","routerLinkActive","active",1,"nav-link"],["routerLink","about","routerLinkActive","active",1,"nav-link"],[1,"nav-item","px-3","dropdown"],["routerLinkActive","active","id","navbarDropdown","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle"],["aria-labelledby","navbarDropdown",1,"dropdown-menu","mt-2"],[1,"row"],["class","col-3",4,"ngFor","ngForOf"],[1,"col-3"],["routerLinkActive","active",1,"dropdown-item"],["routerLink","stories","routerLinkActive","active",1,"nav-link"],["routerLink","contact","routerLinkActive","active",1,"nav-link"],["routerLink","story/create","routerLinkActive","active",1,"nav-link"],["routerLink","auth/login","routerLinkActive","active",1,"nav-link"],["routerLink","auth/register","routerLinkActive","active",1,"nav-link"],["routerLink","/profile",1,"nav-link"],[1,"nav-link",3,"click"]],template:function(t,n){t&1&&(i(0,"nav",0)(1,"div")(2,"a",1),d(3,"img",2),r()(),i(4,"button",3),d(5,"span",4),r(),i(6,"div",5)(7,"ul",6),R(8,Le,3,0,"li",7)(9,He,3,0,"li",7)(10,ze,6,1,"li",8)(11,Be,3,0,"li",7)(12,Ve,3,0,"li",7)(13,Ue,3,0,"li",7),r(),i(14,"ul",6),R(15,We,3,0,"li",7)(16,Ye,3,0,"li",7)(17,Ze,3,0,"li",7)(18,Ge,3,0,"li",7),r()()()),t&2&&(s(8),m("ngIf",!n.router.url.includes("auth")&&n.userRole==="reader"),s(),m("ngIf",!n.router.url.includes("auth")&&n.userRole==="reader"),s(),m("ngIf",!n.router.url.includes("auth")&&n.userRole==="reader"),s(),m("ngIf",!n.router.url.includes("auth")&&n.userRole==="reader"),s(),m("ngIf",!n.router.url.includes("auth")&&n.userRole==="reader"),s(),m("ngIf",!n.router.url.includes("auth")&&n.userRole==="reader"),s(2),m("ngIf",!n.isAuthorized),s(),m("ngIf",!n.isAuthorized),s(),m("ngIf",n.isAuthorized),s(),m("ngIf",n.isAuthorized))},dependencies:[h,N,F,E,ne,ie],styles:[".logo[_ngcontent-%COMP%]{width:100px;height:auto}.active[_ngcontent-%COMP%]{color:#f87f27!important;font-size:16px;font-weight:700}.dropdown[_ngcontent-%COMP%]{border:transparent}ul[_ngcontent-%COMP%]{width:600px}"]})};var L=class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=u({type:e,selectors:[["app-footer"]],standalone:!0,features:[f],decls:36,vars:3,consts:[[1,"container-fluid","footer","text-center"],[1,"container-fluid","row","mt-3"],[1,"col-md-3","align-content-center"],["src","images/book-logo1.png","alt","",1,"img-fluid"],[1,"logo-text"],[1,"col-md-3"],["routerLinkActive","router-link-active",3,"routerLink"],[1,"col-md-3","contact"],["href","mailto:email@example.com"],[1,"col-md-3","social","text-center"],[1,"text-center"],["href","#"],[1,"fab","fa-facebook-square","ps-5"],[1,"fab","fa-twitter-square","ps-5"],[1,"fab","fa-instagram-square","ps-5"],[1,"fab","fa-linkedin","ps-5"]],template:function(t,n){t&1&&(i(0,"div",0)(1,"div",1)(2,"div",2),d(3,"img",3),i(4,"p",4),l(5,"Rewayati"),r()(),i(6,"div",5)(7,"h6"),l(8,"Quick Link"),r(),i(9,"ul")(10,"li",6),l(11," link1 "),r(),i(12,"li",6),l(13," link2 "),r(),i(14,"li",6),l(15," link3 "),r()()(),i(16,"div",7)(17,"h6"),l(18,"Contact Us"),r(),i(19,"p"),l(20,"Email: "),i(21,"a",8),l(22,"example&gmail.com"),r()(),i(23,"p"),l(24,"Phone: +1 123 456 7890"),r()(),i(25,"div",9)(26,"h6",10),l(27,"Social Media"),r(),i(28,"a",11),d(29,"i",12),r(),i(30,"a",11),d(31,"i",13),r(),i(32,"a",11),d(33,"i",14),r(),i(34,"a",11),d(35,"i",15),r()()()()),t&2&&(s(10),m("routerLink","/routePath"),s(2),m("routerLink","/routePath"),s(2),m("routerLink","/routePath"))},dependencies:[E,h,N,F],styles:[".footer[_ngcontent-%COMP%]{background-color:#262628;color:#f9f7f3;align-content:center;position:relative;bottom:0}.img-fluid[_ngcontent-%COMP%]{height:70px;width:70px}.logo-text[_ngcontent-%COMP%]{font-size:20px;font-family:cursive;letter-spacing:1px}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style-type:none;padding:5px;margin-right:40px;color:#f9f7f3;transition:color .3s ease-in-out}.contact[_ngcontent-%COMP%]{color:#f9f7f3}a[_ngcontent-%COMP%]{color:#f9f7f3;text-decoration:none;transition:color .3s ease-in-out}.social[_ngcontent-%COMP%]{display:flex;flex-direction:column}.fab[_ngcontent-%COMP%]{margin-right:10px;font-size:24px}"]})};var H=class e{title="front-end";static \u0275fac=function(t){return new(t||e)};static \u0275cmp=u({type:e,selectors:[["app-root"]],standalone:!0,features:[f],decls:3,vars:0,consts:[["id","header"],["id","footer"]],template:function(t,n){t&1&&d(0,"app-header",0)(1,"router-outlet")(2,"app-footer",1)},dependencies:[me,T,L],styles:["#footer[_ngcontent-%COMP%]{position:relative;bottom:0;width:100%;z-index:1}"]})};le(H,Re).catch(e=>console.error(e));
