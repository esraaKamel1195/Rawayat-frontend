import{a as V}from"./chunk-5LRLNLMG.js";import{a as k,c as O}from"./chunk-BNBCP7ER.js";import{Cb as n,Db as i,Eb as l,Ib as v,Lb as g,Nb as c,Sc as w,Tc as I,Uc as T,Xc as E,Za as m,Zb as s,_a as C,_b as x,ec as S,ga as b,gc as h,ob as _,qa as u,ra as d,tb as p,za as f}from"./chunk-OHLU4CVY.js";var P=r=>({active:r});function F(r,t){if(r&1){let e=v();n(0,"div",10),g("click",function(){let a=u(e).$implicit,y=c();return d(y.goToCategoryPage(a.cat_id))}),n(1,"div",11),l(2,"img",12),n(3,"span"),s(4),i()()()}if(r&2){let e=t.$implicit,o=t.index,a=c();p("ngClass",h(2,P,o===a.currentIndex)),m(4),x(e==null?null:e.category_name)}}function B(r,t){if(r&1){let e=v();n(0,"div",10),g("click",function(){let a=u(e).$implicit,y=c(2);return d(y.getStoriesByTag(a.id))}),n(1,"div",11),l(2,"img",12),n(3,"span"),s(4),i()()()}if(r&2){let e=t.$implicit,o=t.index,a=c(2);p("ngClass",h(2,P,o===a.currentIndex)),m(4),x(e==null?null:e.name)}}function R(r,t){if(r&1){let e=v();n(0,"div",13)(1,"div",14)(2,"div")(3,"h3",2),s(4,"Browse By Story Tags"),i()(),n(5,"div")(6,"button",3),g("click",function(){u(e);let a=c();return d(a.prev())}),n(7,"p",4),s(8,"prev"),i(),l(9,"i",5),i(),n(10,"button",3),g("click",function(){u(e);let a=c();return d(a.next())}),n(11,"p",4),s(12,"next"),i(),l(13,"i",6),i()()(),n(14,"div",7),_(15,B,5,4,"div",8),i()()}if(r&2){let e=c();m(15),p("ngForOf",e.tags)}}var M=class r{constructor(t,e,o){this.route=t;this.activatedRoute=e;this.categoryService=o}currentIndex=0;tags_Show=!1;categories=[];tags=[];onCategoryChange=new f;onTagChange=new f;ngOnInit(){this.categoryService.getAllCategories().subscribe(t=>{this.categories=t})}get visibleCategories(){let t=[];for(let e=0;e<6;e++)t.push(this.categories[(this.currentIndex+e)%this.categories.length]);return t}next(){this.currentIndex<this.categories.length-1?this.currentIndex++:this.currentIndex=0}prev(){this.currentIndex>0?this.currentIndex--:this.currentIndex=this.categories.length-1}goToCategoryPage(t){this.onCategoryChange.emit(t),this.route.url.includes("/stories-by-category")?this.categoryService.getTagsByCategory(t).subscribe({next:e=>{this.tags_Show=!0,console.log("tags",e),this.tags=e},error:e=>{console.log(e)}}):this.route.navigateByUrl(`stories-by-category/${t}`)}getStoriesByTag(t){this.onTagChange.emit(t)}static \u0275fac=function(e){return new(e||r)(C(O),C(k),C(V))};static \u0275cmp=b({type:r,selectors:[["app-category-carousel"]],outputs:{onCategoryChange:"onCategoryChange",onTagChange:"onTagChange"},standalone:!0,features:[S],decls:17,vars:2,consts:[[1,"container"],[1,"d-flex","justify-content-between","mb-2"],[1,"title"],["type","button",1,"btn",3,"click"],[1,"sr-only"],[1,"fa-solid","fa-arrow-left"],[1,"fa-solid","fa-arrow-right"],[1,"d-flex","justify-content-evenly","my-2"],["class","card me-2",3,"ngClass","click",4,"ngFor","ngForOf"],["class","tags",4,"ngIf"],[1,"card","me-2",3,"click","ngClass"],[1,"card-title"],["src","images/book-and-pen.png","alt","book-and-pen"],[1,"tags"],[1,"d-flex","justify-content-between","mt-4","mb-2"]],template:function(e,o){e&1&&(n(0,"div",0)(1,"div",1)(2,"div")(3,"h3",2),s(4,"Browse By Story Category"),i()(),n(5,"div")(6,"button",3),g("click",function(){return o.prev()}),n(7,"p",4),s(8,"prev"),i(),l(9,"i",5),i(),n(10,"button",3),g("click",function(){return o.next()}),n(11,"p",4),s(12,"next"),i(),l(13,"i",6),i()()(),n(14,"div",7),_(15,F,5,4,"div",8),i(),_(16,R,16,1,"div",9),i()),e&2&&(m(15),p("ngForOf",o.visibleCategories),m(),p("ngIf",o.tags_Show))},dependencies:[E,w,I,T],styles:[".container[_ngcontent-%COMP%]{padding:0}h3.title[_ngcontent-%COMP%]{color:#fc7b1d}.card[_ngcontent-%COMP%]{width:170px;margin-top:10px;height:100;cursor:pointer;text-align:center}.card-title[_ngcontent-%COMP%]{margin-top:10px;font-size:18px}.card-title[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:40px;width:40px;padding-right:10px;padding-bottom:10px}.btn[_ngcontent-%COMP%]{background-color:#f87f27;color:#fff;margin-right:10px}"]})};export{M as a};
